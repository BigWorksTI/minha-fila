{
  "query": "CREATE TABLE `establishments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`qrCode` text,\n\t`accessToken` varchar(255) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `establishments_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `establishments_accessToken_unique` UNIQUE(`accessToken`)\n);\n\nCREATE TABLE `orderItems` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`orderId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `orderItems_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`establishmentId` int NOT NULL,\n\t`ticketNumber` varchar(50) NOT NULL,\n\t`status` enum('preparing','ready') NOT NULL DEFAULT 'preparing',\n\t`accessToken` varchar(255) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `orders_accessToken_unique` UNIQUE(`accessToken`)\n);\n\nCREATE TABLE `products` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`establishmentId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `products_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `establishments` ADD CONSTRAINT `establishments_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orderItems` ADD CONSTRAINT `orderItems_orderId_orders_id_fk` FOREIGN KEY (`orderId`) REFERENCES `orders`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orderItems` ADD CONSTRAINT `orderItems_productId_products_id_fk` FOREIGN KEY (`productId`) REFERENCES `products`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orders` ADD CONSTRAINT `orders_establishmentId_establishments_id_fk` FOREIGN KEY (`establishmentId`) REFERENCES `establishments`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `products` ADD CONSTRAINT `products_establishmentId_establishments_id_fk` FOREIGN KEY (`establishmentId`) REFERENCES `establishments`(`id`) ON DELETE no action ON UPDATE no action;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2ADhz8UwdaSfVmf.6f572ffca899 --database BaiVToPyNPx5SoWDViMTym --execute CREATE TABLE `establishments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`qrCode` text,\n\t`accessToken` varchar(255) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `establishments_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `establishments_accessToken_unique` UNIQUE(`accessToken`)\n);\n\nCREATE TABLE `orderItems` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`orderId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 1,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `orderItems_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`establishmentId` int NOT NULL,\n\t`ticketNumber` varchar(50) NOT NULL,\n\t`status` enum('preparing','ready') NOT NULL DEFAULT 'preparing',\n\t`accessToken` varchar(255) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `orders_accessToken_unique` UNIQUE(`accessToken`)\n);\n\nCREATE TABLE `products` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`establishmentId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `products_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `establishments` ADD CONSTRAINT `establishments_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orderItems` ADD CONSTRAINT `orderItems_orderId_orders_id_fk` FOREIGN KEY (`orderId`) REFERENCES `orders`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orderItems` ADD CONSTRAINT `orderItems_productId_products_id_fk` FOREIGN KEY (`productId`) REFERENCES `products`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `orders` ADD CONSTRAINT `orders_establishmentId_establishments_id_fk` FOREIGN KEY (`establishmentId`) REFERENCES `establishments`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `products` ADD CONSTRAINT `products_establishmentId_establishments_id_fk` FOREIGN KEY (`establishmentId`) REFERENCES `establishments`(`id`) ON DELETE no action ON UPDATE no action;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 4745
}